Для створення власного образу завжди повинен використовуватись базовий образ.
```dockerfile
FROM node:alpine
WORKDIR /app
EXPOSE 3000
COPY package*. json ./
RUN pm install
COPY . ./
CMD ["npm", "run", "dev"]
```
- `FROM <image>:<tag>` - базовий образ для нашого
- `WORKDIR <path>` - робоча папка для проекту всередині контейнера
- `EXPOSE <port>` - відкриття порту всередині контейнеру
- `COPY <source_dir> <destination_dir>` - копіювання робочої папки на комп'ютері до робочої папки в контейнері, відбувається один раз при команді build
- `RUN` <command> - дозволяє виконувати команди та скрипти перед тим як контейнер запуститься
- `CMD [<command>, <arg1>, <arg2>, …]` - команди які будуть виконані уже після створення контейнеру
> [!info] `COPY` викликано 2 рази тому що при перезборці контейнеру (build) докер помітить зміни у файлах та буде перезбирати повністю новий контейнер. Коли команд `COPY` дві - тоді образ створюватиметься з двома шарами, і як наслідок побачить що перший слой з залежностями проекту не був змінений і використає кешовані дані з попередньої версії образу. Таким чином дві інструкції `COPY` економлять час при зборці нового образу

[[Docker]]