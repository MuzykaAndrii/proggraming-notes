---
tags: concurrency
---
Конкурентність - Здатність обробляти кілька завдань, чергуючи виконання або паралельно (якщо можливо) або послідовно, так що кожне завдання в кінцевому підсумку успішно доходить до кінця або завершується з помилкою. Конкурентність полягає в блокуванні доступу до якоїсь структури чи ресурсу іншим потоком поки поточний потік не завершить роботу з цією структурою/ресурсом.

###### Умова гонки
Конкурентність запобігає виникненню умови гонки, коли один потік виконує якусь послідовність дій із структурою даних, і в середині цього виконання інший потік модифікує цю структуру. В результаті перший процес перезапише дані в структурі, а зміни які вносив другий процес - будуть втрачені:

- Потік А зчитує значення х.
- Потік Б зчитує значення х.
- Потік А записує значення х + 1.
- Потік Б записує значення х - 1, тим самим відкидає зміни які вносив потік А.

> [!important] Винятки в умовах гонки
Якщо над структурою проводяться атомарні дії (з точки зору команди в байт-коді) обидва потоки матимуть актуальну версію структури даних.

Так як в Python операція `+=` не є атомарною (в мові C декремент чи інкремент також), інкремент поля `refference_count` є вразливим в умовах мультипотокового виконання, цю проблему вирішує [[Global interpreter lock, GIL|GIL]].

